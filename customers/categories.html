<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grains</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../static/css/index.css" />
    <link rel="stylesheet" href="../static/css/categories.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>
  <body>
    <section class="navigation">
      <div class="nav-cont">
        <!-- navigation start -->
        <nav>
          <div class="logo">
            <h1>
              <a href="#">Farmers <span>Ready</span></a>
            </h1>
          </div>

          <div class="links">
            <a class="resLink" data-search="">Search</a>
            <a href="./index.html">Home</a>
            <a href="./farmers.html">Farmers</a>
            <a href="#">Contact</a>
            <a class="resLink" data-wish="">Wishlist</a>

            <a class="resLink" data-profile="">Profile</a>
            <a class="resLink" data-chat="">Chat Now</a>
          </div>
          <div class="actions">
            <i class="fa-solid fa-magnifying-glass" data-search=""></i>
            <i class="fa-solid fa-heart" data-wish=""></i>

            <img
              src="../uploads/customers/harshpawar@gmail.com/u1.jpg"
              width="30px"
              id="pp"
              data-profile=""
            />
          </div>
          <i class="fas fa-bars"></i>
        </nav>
        <!-- navigation end -->

        <!-- search box start -->
        <div class="searchBar">
          <input type="text" placeholder="Search" />
          <i class="fas fa-close" onclick="hideSearchBar()"></i>
        </div>
        <!-- search box end -->

        <!-- search Result start -->
        <div class="searchResults">
          <div class="list">
            <div class="prod" data-pname="Rice">
              <i class="fas fa-heart" data-pid="16"></i>
              <img
                src="../uploads/farmers/rohansingh@gmail.com/rice.jpg"
                alt="Rice"
              />
              <div class="prodInfo">
                <h3>Rice</h3>
                <span>25 Rs/kg</span>
                <b>Sold by Rohan Singh</b>
              </div>
            </div>
            <div class="prod" data-pname="Wheat">
              <i class="fas fa-heart" data-pid="17"></i>
              <img
                src="../uploads/farmers/vishalrao@gmail.com/wheat.jpg"
                alt="Wheat"
              />
              <div class="prodInfo">
                <h3>Wheat</h3>
                <span>30 Rs/kg</span>
                <b>Sold by Vishal Rao</b>
              </div>
            </div>
            <div class="prod" data-pname="Fish">
              <i class="fas fa-heart" data-pid="18"></i>
              <img
                src="../uploads/farmers/prasadk@gmail.com/fish.jpg"
                alt="Fish"
              />
              <div class="prodInfo">
                <h3>Fish</h3>
                <span>250 Rs/kg</span>
                <b>Sold by Prasad Kumar</b>
              </div>
            </div>
            <div class="prod" data-pname="Eggs">
              <i class="fas fa-heart" data-pid="19"></i>
              <img
                src="../uploads/farmers/prasadk@gmail.com/egg.jpg"
                alt="Eggs"
              />
              <div class="prodInfo">
                <h3>Eggs</h3>
                <span>255 Rs/kg</span>
                <b>Sold by Prasad Kumar</b>
              </div>
            </div>
            <div class="prod" data-pname="Onion">
              <i class="fas fa-heart" data-pid="20"></i>
              <img
                src="../uploads/farmers/vishalrao@gmail.com/onion.jpg"
                alt="Onion"
              />
              <div class="prodInfo">
                <h3>Onion</h3>
                <span>50 Rs/kg</span>
                <b>Sold by Vishal Rao</b>
              </div>
            </div>
            <div class="prod" data-pname="Carrots">
              <i class="fas fa-heart" data-pid="21"></i>
              <img
                src="../uploads/farmers/vishalrao@gmail.com/carrots.jpg"
                alt="Carrots"
              />
              <div class="prodInfo">
                <h3>Carrots</h3>
                <span>35 Rs/kg</span>
                <b>Sold by Vishal Rao</b>
              </div>
            </div>
            <div class="prod" data-pname="Kaju">
              <i class="fas fa-heart" data-pid="22"></i>
              <img
                src="../uploads/farmers/rohansingh@gmail.com/kaju.jpg"
                alt="Kaju"
              />
              <div class="prodInfo">
                <h3>Kaju</h3>
                <span>50 Rs/kg</span>
                <b>Sold by Rohan Singh</b>
              </div>
            </div>
            <div class="prod" data-pname="Badam">
              <i class="fas fa-heart" data-pid="23"></i>
              <img
                src="../uploads/farmers/rohansingh@gmail.com/badam.jpg"
                alt="Badam"
              />
              <div class="prodInfo">
                <h3>Badam</h3>
                <span>32 Rs/kg</span>
                <b>Sold by Rohan Singh</b>
              </div>
            </div>
            <div class="prod" data-pname="Banana">
              <i class="fas fa-heart" data-pid="24"></i>
              <img
                src="../uploads/farmers/rohansingh@gmail.com/bannana.jpg"
                alt="Banana"
              />
              <div class="prodInfo">
                <h3>Banana</h3>
                <span>23 Rs/kg</span>
                <b>Sold by Rohan Singh</b>
              </div>
            </div>
            <div class="prod" data-pname="Apples">
              <i class="fas fa-heart" data-pid="25"></i>
              <img
                src="../uploads/farmers/prasadk@gmail.com/apple.jpg"
                alt="Apples"
              />
              <div class="prodInfo">
                <h3>Apples</h3>
                <span>20 Rs/kg</span>
                <b>Sold by Prasad Kumar</b>
              </div>
            </div>
            <div class="prod" data-pname="Orange">
              <i class="fas fa-heart" data-pid="26"></i>
              <img
                src="../uploads/farmers/prasadk@gmail.com/orange.jpg"
                alt="Orange"
              />
              <div class="prodInfo">
                <h3>Orange</h3>
                <span>55 Rs/kg</span>
                <b>Sold by Prasad Kumar</b>
              </div>
            </div>
          </div>
        </div>
        <!-- search Result end -->

        <!-- wishlist start -->
        <div class="wishlist">
          <div class="fas fa-close" onclick="hideWishlist()"></div>
          <h2>Wishlist</h2>
          <div class="wishCont">
            <div class="itemContainer">
              <div class="finalItem">
                <i class="fa-solid fa-envelope" data-wid="63"></i>
              </div>
              <div class="item">
                <img src="../uploads/farmers/vishalrao@gmail.com/wheat.jpg" />
                <div class="itemInfo">
                  <h3>Wheat</h3>
                  <span>30 Rs/kg</span>
                </div>
              </div>
              <div class="removeItem">
                <i class="fa-regular fa-trash-can" data-wid="63"></i>
              </div>
            </div>
            <div class="itemContainer">
              <div class="finalItem">
                <i class="fa-solid fa-envelope" data-wid="66"></i>
              </div>
              <div class="item">
                <img
                  src="../uploads/farmers/rohansingh@gmail.com/bannana.jpg"
                />
                <div class="itemInfo">
                  <h3>Banana</h3>
                  <span>23 Rs/kg</span>
                </div>
              </div>
              <div class="removeItem">
                <i class="fa-regular fa-trash-can" data-wid="66"></i>
              </div>
            </div>
          </div>
        </div>
        <!-- wishlist end -->

        <!-- profile start -->
        <div class="profileCont">
          <i class="fas fa-close" onclick="hideProfile()"></i>
          <a
            href="./editProfile.html"
            class="fa-solid fa-pen-to-square"
            target="_blank"
          ></a>
          <div class="profilePic">
            <img
              src="../uploads/customers/harshpawar@gmail.com/u1.jpg"
              alt="Harsh Pawar"
            />
          </div>
          <div class="profileInfo">
            <h2>Harsh Pawar</h2>
            <span>harshpawar@gmail.com</span>
            <a href="#"
              ><i class="fa-solid fa-right-from-bracket"></i> Logout</a
            >
          </div>
        </div>
        <!-- profile end -->

        <!-- Popup start -->
        <div id="messaePopup" class="messaePopup">
          <h2>Hello, this is a popup!</h2>
        </div>
        <!-- Popup end -->
      </div>
    </section>

    <section class="category-container">
      <div class="catArea">
        <div class="catImg">
          <img src="../uploads/categories/garins.jpg" alt="Grains" />
        </div>
        <h1>Grains</h1>
      </div>
    </section>

    <section class="productsContainer">
      <!-- productsContainer start -->
      <div class="productsList">
        <div class="card" data-name="Rice">
          <img
            class="category_pic"
            src="../uploads/farmers/rohansingh@gmail.com/rice.jpg"
            alt="Rice"
          />
          <span>Rice</span>
          <div class="card_info">
            <h2>
              Rice <br />
              <b data-price="25">Price 25 Rs/ kg</b>
            </h2>
            <h2>
              Sold by <br />
              <a href="./farmerProfile.html" target="_blank">Rohan Singh</a>
            </h2>
            <button data-pid="16">Add to wishlist</button>
          </div>
        </div>
        <div class="card" data-name="Wheat">
          <img
            class="category_pic"
            src="../uploads/farmers/vishalrao@gmail.com/wheat.jpg"
            alt="Wheat"
          />
          <span>Wheat</span>
          <div class="card_info">
            <h2>
              Wheat <br />
              <b data-price="30">Price 30 Rs/ kg</b>
            </h2>
            <h2>
              Sold by <br />
              <a href="./farmerProfile.html" target="_blank">Vishal Rao</a>
            </h2>
            <button data-pid="17">Add to wishlist</button>
          </div>
        </div>
      </div>
      <!-- productsContainer end -->
    </section>

    <section class="footer">
      <!-- footer start -->
      <footer>
        <div class="d1">
          <h1>Farmers Ready</h1>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo,
            quidem. Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Optio, ullam?
          </p>
        </div>
        <div class="d2">
          <h1>Pages</h1>
          <ul>
            <li>Food</li>
            <li>Farmers</li>
            <li>Contact Us</li>
            <li>About Us</li>
          </ul>
        </div>
        <div class="d3">
          <h1>Food</h1>
          <ul>
            <li>Food</li>
            <li>Farmers</li>
            <li>Contact Us</li>
            <li>About Us</li>
          </ul>
        </div>
        <div class="d4">
          <h1>Contact us</h1>
          <ul>
            <li>
              modern collage ganesh khind pune phone - 0000000000 email -
              farmerready@gmail.com
            </li>
          </ul>
        </div>
      </footer>
      <!-- footer end -->
    </section>

    <section class="copyRight">
      <!-- copyright start -->
      <div class="copy-right">
        <span>Farmers Ready Copyright Â© All Right Reserved</span>
      </div>
      <!-- copyright end -->
    </section>

    <!-- popup messaging start -->
    <div class="messaging">
      <i class="fas fa-comments" id="mes"></i>
    </div>
    <!-- popup messaging end -->

    <div class="messageContainer">
      <div class="farmersLists active">
        <div class="usersss" data-fid="9">
          <img src="../uploads/farmers/rohansingh@gmail.com/f1.jpg" />
          <h2>Rohan Singh</h2>
        </div>
        <div class="usersss" data-fid="10">
          <img src="../uploads/farmers/vishalrao@gmail.com/f3.jpg" />
          <h2>Vishal Rao</h2>
        </div>
        <div class="usersss" data-fid="11">
          <img src="../uploads/farmers/prasadk@gmail.com/f2.jpg" />
          <h2>Prasad Kumar</h2>
        </div>
      </div>
      <div class="message_main_Box">
        <!-- <i class="fas fa-close"></i> -->
        <div class="messTop">
          <i class="fas fa-arrow-left"></i>
          <img src="../uploads/farmers/vishalrao@gmail.com/f3.jpg" />
          <h1>Vishal Rao</h1>
        </div>
        <div class="messBody">
          <div class="outgoing chat">
            <p>
              Hey there! I am interested in your product <b>Wheat 30 Rs/kg</b>
            </p>
          </div>
          <div class="incoming chat"><p>OK</p></div>
          <div class="incoming chat"><p>How much kg u want?</p></div>
          <div class="outgoing chat"><p>12kg</p></div>
        </div>
        <div class="messInput">
          <input
            type="text"
            name="message"
            placeholder="Enter your message"
            data-fid="10"
          />
          <i class="fas fa-paper-plane"></i>
        </div>
      </div>
    </div>
    <script src="../static/js/navigationbar.js"></script>
    <script src="../static/js/footer.js"></script>
    <script>
      socket.emit("categoryPage", {
        cid: "7",
        cname: "Grains",
      });

      socket.on("curentCat", (data) => {
        let catArea = document.querySelector(".catArea");
        catArea.innerHTML = `
            <div class="catImg">
              <img src="${data.path}" alt="${data.name}" />
            </div>
            <h1>${data.name}</h1>
      `;
        document.querySelector("title").textContent = data.name;
      });

      socket.on("products", (products) => {
        let productsList = document.querySelector(
          ".productsContainer .productsList"
        );
        productsList.innerHTML = "";
        products.forEach((i) => {
          let div = document.createElement("div");
          div.className = "card";
          div.dataset.name = i.pname;
          div.innerHTML = `
          <img class="category_pic" src="${i.path}"  alt="${i.pname}"/>
          <span>${i.pname}</span>
          <div class="card_info">
            <h2>
              ${i.pname} <br />
              <b data-price="${i.price}">Price ${i.price} Rs/ ${i.units}</b>
            </h2>
            <h2>
              Sold by <br />
              <a href="/profile?name=${i.fname}&id=${i.uid}" target="_blank">${i.fname}</a>
            </h2>
            <button data-pid='${i.pid}'>Add to wishlist</button>
          </div>
          `;
          productsList.appendChild(div);
        });

        let cards = productsList.querySelectorAll(".card");
        cards.forEach((card) => {
          let heart = card.querySelector("[data-pid]");
          heart.addEventListener("click", () => {
            heart.classList.toggle("active");
            heart.textContent = "Added to wishlist";
            socket.emit("toWishList", { pid: heart.dataset.pid });
            socket.on("wishListStatus", (data) => {
              if (data.includes("Already")) {
                heart.textContent = data;
                messaePopup.classList.add("active");
                alertMessage.textContent = data;
                setTimeout(() => {
                  messaePopup.classList.remove("active");
                }, 2000);
              }
            });
          });
        });
      });
    </script>
  </body>
</html>
